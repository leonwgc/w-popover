"use strict";(self.webpackChunkw_popover=self.webpackChunkw_popover||[]).push([[57],{620:(t,e,n)=>{var r=n(540),o=n(961),i=n(75),l=n(284);function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t){return u="function"==typeof Symbol&&"symbol"==(0,l.A)(Symbol.iterator)?function(t){return(0,l.A)(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":(0,l.A)(t)},u(t)}function s(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=(0,l.A)(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=(0,l.A)(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==(0,l.A)(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(){return f=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f.apply(this,arguments)}function d(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}function p(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,l,c=[],a=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;a=!1}else for(;!(a=(r=i.call(n)).done)&&(c.push(r.value),c.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{if(!a&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return m(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var v=r.createElement("svg",f({viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},{width:"1em",height:"1em",fill:"currentColor"}),r.createElement("path",{d:"M240.512 180.181333l271.530667 271.488 271.530666-271.488a42.666667 42.666667 0 0 1 56.32-3.541333l4.010667 3.541333a42.666667 42.666667 0 0 1 0 60.330667l-271.530667 271.530667 271.530667 271.530666a42.666667 42.666667 0 0 1-56.32 63.872l-4.010667-3.541333-271.530666-271.530667-271.530667 271.530667-4.010667 3.541333a42.666667 42.666667 0 0 1-56.32-63.872l271.488-271.530666-271.488-271.530667a42.666667 42.666667 0 0 1 60.330667-60.330667z","p-id":"2884"})),b=function(t){return r.createElement("div",t,v)};function h(t){var e=(0,r.useRef)(t);return e.current=t,e}b.displayName="Close";var g=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=(0,r.useRef)(!1);(0,r.useEffect)((function(){if(n.current)return t();n.current=!0}),e)},y=function(t){var e,n=t.current;return n instanceof HTMLElement?e=n:n.current?e=n.current:"function"==typeof n&&(e=n()),e},w=function(t,e,n){if("object"===u(e)&&e)for(var r=0,o=Object.keys(e);r<o.length;r++){var i=o[r];t.style[i]=e[i]}else"string"==typeof e&&(t.classList.add(e),"string"==typeof n&&n&&t.classList.contains(n)&&t.classList.remove(n))},E=!("undefined"==typeof window||!window),O=!1;try{window&&window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){O={passive:!0}}}))}catch(t){}var x=E?r.useLayoutEffect:r.useEffect,k=x;function C(t,e,n,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:220,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,c=p((0,r.useState)(e),2),a=c[0],u=c[1],s=h(t),f=(0,r.useRef)(0),d=h(n),m=h(o);return k((function(){var t=y(s);e&&t instanceof Element&&(w(t,d.current,m.current),u(!0),f.current=window.setTimeout((function(){w(t,m.current,d.current)}),l))}),[e,a,d,m,s,l]),g((function(){if(!e&&a){var t=y(s);f.current=window.setTimeout((function(){w(t,d.current,m.current),f.current=window.setTimeout((function(){u(!1)}),i)}),l)}}),[e]),(0,r.useEffect)((function(){return function(){f.current&&clearTimeout(f.current)}}),[]),a||e}var j=["children","visible","style","duration","hideOverflow"],N=r.forwardRef((function(t,e){var n=t.children,o=t.visible,i=t.style,l=t.duration,c=void 0===l?220:l,u=t.hideOverflow,s=void 0===u||u,p=d(t,j),m=(0,r.useRef)(null),v=(0,r.useRef)("");(0,r.useImperativeHandle)(e,(function(){return m.current}));var b=C((function(){return m.current}),o,{opacity:0},{opacity:.5},c);return(0,r.useEffect)((function(){return v.current=document.body.style.overflow,document.body.style.overflow=o&&s?"hidden":v.current,function(){document.body.style.overflow=v.current}}),[o,s]),b?r.createElement("div",f({ref:m},p,{style:a(a({},i),{},{opacity:0,background:"rgba(0, 0, 0)",zIndex:1e3,position:"fixed",left:0,top:0,bottom:0,right:0,width:"100%",touchAction:"none",display:b?"":"none",transition:"opacity ".concat(c,"ms ease-in-out")})}),n):null}));N.displayName="W-Mask";var S={bottom:"top",top:"bottom",left:"right",right:"left"},T=function(t){return S[t]};function P(t,e,n,o){var i=h(n),l=h(e),c=h(t),a=h(o);(0,r.useEffect)((function(){var t=function(t,e){return t?"function"==typeof t?t():t&&"current"in t?t.current:t:e}(c.current,window);if(null==t?void 0:t.addEventListener){var e=function(t){var e;return null===(e=i.current)||void 0===e?void 0:e.call(i,t)},n=l.current,r=a.current;return t.addEventListener(n,e,r),function(){t.removeEventListener(n,e,r)}}}),[])}var A=function(t){if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t},R=function(t){return A(t).getComputedStyle(t)},L=function(t){return t?(t.nodeName||"").toLowerCase():""},I=function(t){return t&&"html"!==L(t)?t.assignedSlot||t.parentNode||function(t){return function(t){return(D(t)?t.ownerDocument:t.document)||window.document}(t).documentElement}(t):t},D=function(t){return t instanceof A(t).Element||t instanceof Element},M=function(t){return t instanceof A(t).HTMLElement||t instanceof HTMLElement},_=function(t){return["table","td","th"].indexOf(L(t))>=0},z=function(t){return M(t)&&"fixed"!==R(t).position?t.offsetParent:null},B=function(t){var e=0;return function(t,e){A(t);null==e||e(t);for(var n=z(t);n&&_(n)&&"static"===R(n).position;)null==e||e(n),n=z(n);n||function(t,e){null==e||e(t);for(var n=I(t);M(n)&&["html","body"].indexOf(L(n))<0;){null==e||e(n);var r=R(n);if("none"!==r.transform||"none"!==r.perspective||r.willChange&&"auto"!==r.willChange)return n;n=I(n)}}(t,e)}(t,(function(t){e+=t.offsetTop})),e},F=/scroll|auto|overlay/i;function H(t){return"HTML"!==t.tagName&&"BODY"!==t.tagName&&1===t.nodeType}function V(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,n=t;n&&n!==e&&H(n);){var r=window.getComputedStyle(n).overflowY;if(F.test(r))return n;n=n.parentNode}return e}var W=["placement","content","arrow","visible","closable","onVisibleChange","onClose","className","style","children","mask","maskStyle","maskClass","closeOnClickOutside","closeOnMaskClick","transition","transitionDuration","transitionTimingFunction","offset"],Y=x,q={opacity:0,transform:"scale(0)"},U={opacity:1,transform:"scale(1)"},$=function(t){var e=t.placement,n=void 0===e?"bottom":e,i=t.content,l=t.arrow,c=void 0===l||l,u=t.visible,m=t.closable,v=t.onVisibleChange,y=t.onClose,x=t.className,k=t.style,j=t.children,S=t.mask,A=t.maskStyle,I=t.maskClass,D=t.closeOnClickOutside,M=void 0===D||D,_=t.closeOnMaskClick,z=void 0===_||_,F=t.transition,H=void 0===F||F,$=t.transitionDuration,G=void 0===$?220:$,J=t.transitionTimingFunction,K=void 0===J?"ease-in-out":J,Q=t.offset,X=void 0===Q?{}:Q,Z=d(t,W),tt=(0,r.useRef)(),et=(0,r.useRef)(null),nt=h(X),rt=h(y),ot=p((0,r.useState)({}),2),it=ot[0],lt=ot[1],ct=(0,r.useRef)(!1),at=r.useCallback((function(t,e){var r=et.current;w(r,{transitionProperty:"none",transform:"none"});var o=function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"bottom",i=arguments.length>5?arguments[5]:void 0,l=t.getBoundingClientRect(),c=e.getBoundingClientRect(),a=n.getBoundingClientRect(),u="body"===L(n),s=R(e).position,f="fixed"===s,d=r instanceof Element?r.scrollTop:r.pageYOffset,p="fixed"===s||r instanceof Element,m=p?c.top:u?c.top+d:B(e),v=m,b=c.height+m,h=c.left-(p?0:a.left),g=c.width,y=c.height,w={top:{top:v-l.height-12,left:h+g/2-l.width/2},bottom:{top:b+12,left:h+g/2-l.width/2},left:{top:v+y/2-l.height/2,left:h-l.width-12},right:{top:v+y/2-l.height/2,left:h+g+12},"top-right":{top:v-l.height-12,left:h+g-l.width},"top-left":{top:v-l.height-12,left:h},"bottom-right":{top:b+12,left:h+g-l.width},"bottom-left":{top:b+12,left:h},"right-top":{top:v,left:h+g+12},"left-top":{top:v,left:h-l.width-12},"right-bottom":{top:b-l.height,left:h+g+12},"left-bottom":{top:b-l.height,left:h-l.width-12}},E=i.x||0,O=i.y||0,x=w[o];return{position:f?"fixed":"absolute",top:x.top+O,left:x.left+E}}(r,t,document.body,e,n,nt.current),i=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bottom",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:6,o=t.getBoundingClientRect(),i=p(e.split("-"),2),l=i[0],c=i[1],u=s({boxShadow:{top:"1px 1px 1px 0px rgba(0, 0, 0, 0.05)",right:"-1px 1px 1px 0px rgba(0, 0, 0, 0.05)",bottom:"-1px -1px 1px 0px rgba(0, 0, 0, 0.05)",left:"1px -1px 1px 0px rgba(0, 0, 0, 0.05)"}[l]},T(l),-r/2);if(c)return a(s({},c,2*n),u);var f={};return["bottom","top"].includes(l)&&(f.right=(o.width-r)/2),["left","right"].includes(l)&&(f.top=(o.height-r)/2),a(a({},f),u)}(r,n,12);w(r,{top:o.top+"px",left:o.left+"px",position:o.position}),H&&!ct.current&&(ct.current=!0,w(r,q),r.scrollTop,w(r,{transitionProperty:"transform, opacity"})),lt(i)}),[H,n,nt]),ut=function(){var t=tt.current,e=V(t);at(t,e)},st=(0,r.useCallback)((function(t){var e,n=et.current,r=tt.current;!n||n.contains(t.target)||r.contains(t.target)||null===(e=rt.current)||void 0===e||e.call(rt)}),[rt]);P((function(){return window}),"resize",u?ut:void 0,O),P((function(){return V(tt.current)}),"scroll",u?ut:void 0,O),P((function(){return document}),"click",M?st:void 0),Y((function(){var t=tt.current,e=V(t);u&&at(t,e)}),[at,u]);var ft=(0,r.useMemo)((function(){return function(t){var e=t.split("-"),n="";return e[0]&&(n+=T(e[0])),e[1]&&(n+=" "+e[1]),n}(n)}),[n]),dt=C((function(){return H?et.current:null}),u,q,U,G);return g((function(){null==v||v(u),u||(ct.current=!1)}),[u]),r.createElement(r.Fragment,null,r.createElement(N,{visible:S&&u,className:I,style:A,duration:G,onClick:function(){z&&(null==y||y())}}),r.cloneElement(j,{ref:tt}),E&&o.createPortal(r.createElement(r.Fragment,null,(H&&dt||!H&&u)&&r.createElement("div",f({},Z,{ref:et,className:"w-popover ".concat(x||""),style:a({position:"absolute",background:"#fff",zIndex:1e3,transformOrigin:ft,transitionTimingFunction:K,transitionDuration:"".concat(G,"ms"),willChange:H?"transform, opacity":"unset"},k)}),c&&r.createElement("div",{className:"w-popover__arrow",style:a({position:"absolute",width:6,height:6,zIndex:-1,background:"inherit",transform:"rotate(45deg)"},it)}),m&&r.createElement(b,{className:"w-popover__close",onClick:y,style:{position:"absolute",zIndex:10,top:6,right:6,cursor:"pointer",color:"rgb(0,0,0)",opacity:.35,display:"flex",alignItems:"center",justifyContent:"center"}}),i)),document.body))};$.displayName="W-Popover";var G=["hoverDelay","placement","arrow","offset","className","style","children"],J=function(t){var e=t.hoverDelay,n=void 0===e?100:e,o=t.placement,i=void 0===o?"top":o,l=t.arrow,c=void 0===l||l,u=t.offset,s=t.className,m=t.style,v=t.children,b=d(t,G),h=(0,r.useRef)(0),g=p((0,r.useState)(!1),2),y=g[0],w=g[1],E={onMouseEnter:function(){h.current&&clearTimeout(h.current),w(!0)},onMouseLeave:function(){h.current=window.setTimeout((function(){w(!1)}),n)},onFocus:function(){h.current&&clearTimeout(h.current),w(!0)}};return r.createElement($,f({},b,{className:"w-tooltip ".concat(s),style:a({background:"#333",color:"#fff",padding:"6px 12px"},m),visible:y,arrow:c,placement:i,offset:u},E),r.isValidElement(v)?r.cloneElement(v,a({},E)):r.createElement("span",E,v))};J.displayName="W-Tooltip";var K=n(168),Q=n(986),X=["title","padding","background","border","height","children"];function Z(t){var e=t.title,n=void 0===e?"":e,o=t.padding,i=void 0===o?"12px":o,l=t.background,c=void 0===l?"#fff":l,a=t.border,u=t.height,s=t.children,f=(0,Q.A)(t,X);return r.createElement("div",(0,K.A)({className:"demo-block"},f),r.createElement("div",{className:"demo-block__title"},n),r.createElement("div",{className:"demo-block__content",style:{padding:i,background:c,border:a,height:u}},s))}var tt=["top","top-left","top-right","left","left-top","left-bottom","bottom","bottom-left","bottom-right","right","right-top","right-bottom"];function et(){var t=(0,r.useState)(!0),e=(0,i.A)(t,2),n=e[0],o=e[1],l=(0,r.useReducer)((function(t){return t+1}),0),c=(0,i.A)(l,2)[1],a=(0,r.useRef)(0);return r.createElement("div",null,r.createElement(Z,{title:"Popover",padding:40},r.createElement($,{style:{background:"#666",color:"#fff",padding:"12px 24px"},placement:tt[a.current],visible:n,onClose:function(){return o(!1)},content:tt[a.current]},r.createElement("button",{className:"w-button",style:{height:60,width:120},onClick:function(){o(!0),a.current++,a.current>11&&(a.current=0),c()}},"Try to click me"))),r.createElement(Z,{title:"Tooltip"},r.createElement("div",{style:{display:"flex",gap:8}},r.createElement(J,{content:"This's a tooltip ",placement:"top"},r.createElement("button",{className:"w-button"},"Tooltip at top")),r.createElement(J,{content:"This's a tooltip ",placement:"bottom"},r.createElement("button",{className:"w-button"},"Tooltip at bottom")),r.createElement(J,{content:"This's a tooltip ",placement:"right"},r.createElement("button",{className:"w-button"},"Tooltip at right")))),r.createElement(Z,{title:"Scroll (the green block is scrollable)"},r.createElement("div",{style:{height:200,width:"100%",border:"1px solid #ccc",textAlign:"center",overflowY:"scroll",position:"relative"}},r.createElement("div",{style:{height:"120vh",background:"#ccc"}},r.createElement($,{placement:"bottom",visible:!0,content:"I'm here ",style:{padding:6}},r.createElement("button",{className:"w-button",onClick:function(){return o(!0)}},"hi, there~")),r.createElement($,{placement:"bottom",visible:!0,content:"I'm here abs",style:{padding:6}},r.createElement("button",{className:"w-button",onClick:function(){return o(!0)},style:{position:"absolute",left:50,top:50}},"hi, here~")),r.createElement($,{placement:"right",visible:!0,content:"I'm here fixed",style:{padding:6,background:"#666",color:"#fff"}},r.createElement("button",{className:"w-button",style:{position:"fixed",bottom:100,left:150}},"hi, there~"))))),r.createElement("div",{style:{height:"110vh"}}))}var nt=document.querySelector("#root");(nt.hasChildNodes()?o.hydrate:o.render)(r.createElement(et,null),nt)}},t=>{t.O(0,[502],(()=>(620,t(t.s=620)))),t.O()}]);